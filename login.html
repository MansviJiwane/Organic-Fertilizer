<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Login / Register - Ecogaon</title>

  <link href=https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap rel="stylesheet" />

  <style>

    :root {

      --green: #2E8B57;

      --greenSoft: #7BBF6A;

      --earth: #f4fff4;

      --cta: #ff8c42;

    }

 

    * {

      margin: 0;

      padding: 0;

      box-sizing: border-box;

    }

 

    body {

      font-family: 'Poppins', sans-serif;

      background: linear-gradient(135deg, #f0fff4, #e6ffe6);

      min-height: 100vh;

      display: flex;

      align-items: center;

      justify-content: center;

      background-image: url('https://foodtank.com/wp-content/uploads/2018/04/Food-Tank-Climate-Change-Crowd-Source.jpg');

      background-repeat: no-repeat;

      background-position: center;

      background-size: cover;

    }

 

    .container {

      background: rgba(255, 255, 255, 0.95);

      border-radius: 20px;

      padding: 3rem;

      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);

      width: 100%;

      max-width: 500px;

      margin: 2rem;

    }

 

    .header {

      text-align: center;

      margin-bottom: 2rem;

    }

 

    .header h1 {

      color: var(--green);

      font-size: 2.5rem;

      margin-bottom: 0.5rem;

    }

 

    .header p {

      color: #666;

      font-size: 1.1rem;

    }

 

    .form-tabs {

      display: flex;

      margin-bottom: 2rem;

      background: var(--earth);

      border-radius: 10px;

      padding: 0.5rem;

    }

 

    .tab {

      flex: 1;

      padding: 1rem;

      text-align: center;

      border-radius: 8px;

      cursor: pointer;

      transition: all 0.3s ease;

      font-weight: 600;

      user-select: none;

    }

 

    .tab.active {

      background: var(--green);

      color: white;

    }

 

    .form-group {

      margin-bottom: 1.5rem;

    }

 

    .form-group label {

      display: block;

      margin-bottom: 0.5rem;

      color: var(--green);

      font-weight: 600;

    }

 

    .form-group input,

    .form-group select {

      width: 100%;

      padding: 1rem;

      border: 2px solid #e0e0e0;

      border-radius: 10px;

      font-size: 1rem;

      transition: border-color 0.3s ease;

    }

 

    .form-group input:focus,

    .form-group select:focus {

      outline: none;

      border-color: var(--green);

    }

 

    .submit-btn {

      width: 100%;

      background: var(--green);

      color: white;

      padding: 1rem;

      border: none;

      border-radius: 10px;

      font-size: 1.1rem;

      font-weight: 600;

      cursor: pointer;

      transition: all 0.3s ease;

    }

 

    .submit-btn:hover {

      background: #228B22;

      transform: translateY(-2px);

    }

 

    .submit-btn:disabled {

      background: #ccc;

      cursor: not-allowed;

      transform: none;

    }

 

    .alert {

      padding: 1rem;

      border-radius: 10px;

      margin-bottom: 1rem;

      display: none;

    }

 

    .alert.success {

      background: #d4edda;

      color: #155724;

      border: 1px solid #c3e6cb;

    }

 

    .alert.error {

      background: #f8d7da;

      color: #721c24;

      border: 1px solid #f5c6cb;

    }

 

    @media (max-width: 768px) {

      .container {

        margin: 1rem;

        padding: 2rem;

      }

 

      .header h1 {

        font-size: 2rem;

      }

    }

  </style>

</head>

<body>

  <div class="container">

    <div class="header">

      <h1>ðŸŒ± Ecogaon</h1>

      <p>Login or Register to start your eco journey</p>

    </div>

 

    <div class="form-tabs">

      <div class="tab active" onclick="switchTab(event, 'login')">Login</div>

      <div class="tab" onclick="switchTab(event, 'register')">Register</div>

    </div>

 

    <div id="alert" class="alert"></div>

 

    <!-- Login Form -->

    <form id="loginForm" onsubmit="handleLogin(event)">

      <div class="form-group">

        <label for="loginPhone">Phone Number</label>

        <input type="tel" id="loginPhone" placeholder="+91 98765 43210" required />

      </div>

      <button type="submit" class="submit-btn" id="loginBtn">Login to Ecowallet</button>

    </form>

 

    <!-- Register Form -->

    <form id="registerForm" onsubmit="handleRegister(event)" style="display: none;">

      <div class="form-group">

        <label for="regName">Full Name</label>

        <input type="text" id="regName" placeholder="Enter your name" required />

      </div>

      <div class="form-group">

        <label for="regPhone">Phone Number</label>

        <input type="tel" id="regPhone" placeholder="Enter your number" required />

      </div>

      <div class="form-group">

        <label for="regRole">Role</label>

        <select id="regRole">

          <option value="household">Household</option>

          <option value="farmer">Farmer</option>

          <option value="buyer">Buyer (Compost Purchaser)</option>

          <option value="krushikendra">Krushikendra (Agricultural Center)</option>

          <option value="admin">Admin</option>

          <option value="truck_driver">Truck Driver</option>

          <option value="compost_operator">Compost Operator</option>

          <option value="dumping_manager">Dumping Point Manager</option>

        </select>

      </div>

      <button type="submit" class="submit-btn" id="registerBtn">Register Now</button>

    </form>

  </div>

 

  <script>

    function switchTab(event, tab) {

      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));

      event.currentTarget.classList.add('active');

 

      if (tab === 'login') {

        document.getElementById('loginForm').style.display = 'block';

        document.getElementById('registerForm').style.display = 'none';

      } else {

        document.getElementById('loginForm').style.display = 'none';

        document.getElementById('registerForm').style.display = 'block';

      }

 

      hideAlert();

    }

 

    function showAlert(message, type) {

      const alert = document.getElementById('alert');

      alert.textContent = message;

      alert.className = alert ${type};

      alert.style.display = 'block';

 

      setTimeout(() => {

        hideAlert();

      }, 4000);

    }

 

    function hideAlert() {

      document.getElementById('alert').style.display = 'none';

    }

 

    // Register user

    async function handleRegister(event) {

      event.preventDefault();

 

      const name = document.getElementById('regName').value.trim();

      const phone = document.getElementById('regPhone').value.trim();

      const role = document.getElementById('regRole').value;

      const btn = document.getElementById('registerBtn');

 

      if (!name || name.length < 2) {

        showAlert('Please enter a valid name.', 'error');

        return;

      }

 

      if (!/^\d{10,15}$/.test(phone)) {

        showAlert('Invalid phone number.', 'error');

        return;

      }

 

      btn.disabled = true;

      btn.textContent = 'Registering...';

 

      // Get users from localStorage

      let users = JSON.parse(localStorage.getItem('ecogaon_users')) || [];

 

      const existing = users.find(u => u.phone === phone);

      if (existing) {

        showAlert('User already exists. Please login.', 'error');

        btn.disabled = false;

        btn.textContent = 'Register Now';

        return;

      }

 

      const newUser = { name, phone, role };

      users.push(newUser);

      localStorage.setItem('ecogaon_users', JSON.stringify(users));

 

      showAlert('Registration successful! Redirecting to login...', 'success');

      setTimeout(() => {

        switchTab(new Event('click'), 'login');

        document.getElementById('loginPhone').value = phone;

      }, 1500);

 

      btn.disabled = false;

      btn.textContent = 'Register Now';

    }

 

    // Login user

    async function handleLogin(event) {

      event.preventDefault();

 

      const phone = document.getElementById('loginPhone').value.trim();

      const btn = document.getElementById('loginBtn');

 

      btn.disabled = true;

      btn.textContent = 'Logging in...';

 

      let users = JSON.parse(localStorage.getItem('ecogaon_users')) || [];

 

      const user = users.find(u => u.phone === phone);

      if (user) {

        localStorage.setItem('ecogaon_user', JSON.stringify(user));

        showAlert('Login successful! Redirecting...', 'success');

        setTimeout(() => {

          window.location.href = 'Ecowallet.html'; // Replace with your dashboard

        }, 1500);

      } else {

        showAlert('User not found. Please register first.', 'error');

      }

 

      btn.disabled = false;

      btn.textContent = 'Login to Ecowallet';

    }

 

    // Auto redirect if already logged in

    if (localStorage.getItem('ecogaon_user')) {

      showAlert('You are already logged in. Redirecting...', 'success');

      setTimeout(() => {

        window.location.href = 'Ecowallet.html';

      }, 1500);

    }

  </script>

</body>

</html>

 

 

